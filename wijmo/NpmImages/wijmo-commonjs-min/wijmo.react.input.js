/*!
    *
    * Wijmo Library 5.20192.631
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */

"use strict";var __extends=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var wijmo_react_base_1=require("wijmo/wijmo.react.base"),React=require("react"),ReactDOM=require("react-dom"),wjcCore=require("wijmo/wijmo"),wjcInput=require("wijmo/wijmo.input"),ListBox=function(t){function e(e){return t.call(this,e,wjcInput.ListBox,{objectProps:["itemsSource","selectedItem","selectedValue","checkedItems","wjItemTemplate"]})||this}return __extends(e,t),e.prototype.componentDidMount=function(){var e=t.prototype.componentDidMount.call(this);return new ItemTemplate(this),e},e}(wijmo_react_base_1.ComponentBase);exports.ListBox=ListBox;var ComboBox=function(t){function e(e){return t.call(this,e,wjcInput.ComboBox,{objectProps:["itemsSource","selectedItem","selectedValue","wjItemTemplate"]})||this}return __extends(e,t),e.prototype.componentDidMount=function(){var e=t.prototype.componentDidMount.call(this);return new ItemTemplate(this),e},e}(wijmo_react_base_1.ComponentBase);exports.ComboBox=ComboBox;var AutoComplete=function(t){function e(e){return t.call(this,e,wjcInput.AutoComplete,{objectProps:["itemsSource","selectedItem","selectedValue"]})||this}return __extends(e,t),e}(wijmo_react_base_1.ComponentBase);exports.AutoComplete=AutoComplete;var Calendar=function(t){function e(e){return t.call(this,e,wjcInput.Calendar)||this}return __extends(e,t),e}(wijmo_react_base_1.ComponentBase);exports.Calendar=Calendar;var ColorPicker=function(t){function e(e){return t.call(this,e,wjcInput.ColorPicker,{objectProps:["palette"]})||this}return __extends(e,t),e}(wijmo_react_base_1.ComponentBase);exports.ColorPicker=ColorPicker;var InputMask=function(t){function e(e){return t.call(this,e,wjcInput.InputMask)||this}return __extends(e,t),e}(wijmo_react_base_1.ComponentBase);exports.InputMask=InputMask;var InputColor=function(t){function e(e){return t.call(this,e,wjcInput.InputColor)||this}return __extends(e,t),e}(wijmo_react_base_1.ComponentBase);exports.InputColor=InputColor;var MultiSelect=function(t){function e(e){return t.call(this,e,wjcInput.MultiSelect,{objectProps:["itemsSource","selectedItem","selectedValue","checkedItems","wjItemTemplate"]})||this}return __extends(e,t),e.prototype.componentDidMount=function(){var e=t.prototype.componentDidMount.call(this);return new ItemTemplate(this),e},e}(wijmo_react_base_1.ComponentBase);exports.MultiSelect=MultiSelect;var MultiAutoComplete=function(t){function e(e){return t.call(this,e,wjcInput.MultiAutoComplete,{objectProps:["itemsSource","selectedItem","selectedValue","selectedItems"]})||this}return __extends(e,t),e}(wijmo_react_base_1.ComponentBase);exports.MultiAutoComplete=MultiAutoComplete;var InputNumber=function(t){function e(e){return t.call(this,e,wjcInput.InputNumber)||this}return __extends(e,t),e}(wijmo_react_base_1.ComponentBase);exports.InputNumber=InputNumber;var InputDate=function(t){function e(e){return t.call(this,e,wjcInput.InputDate)||this}return __extends(e,t),e}(wijmo_react_base_1.ComponentBase);exports.InputDate=InputDate;var InputTime=function(t){function e(e){return t.call(this,e,wjcInput.InputTime,{objectProps:["itemsSource","selectedItem","selectedValue"]})||this}return __extends(e,t),e}(wijmo_react_base_1.ComponentBase);exports.InputTime=InputTime;var InputDateTime=function(t){function e(e){return t.call(this,e,wjcInput.InputDateTime)||this}return __extends(e,t),e}(wijmo_react_base_1.ComponentBase);exports.InputDateTime=InputDateTime;var Menu=function(t){function e(e){return t.call(this,e,wjcInput.Menu,{objectProps:["itemsSource","selectedItem","selectedValue","wjItemTemplate"]})||this}return __extends(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t,null!=t&&(this.control.selectedValue=t,this._updateHeader())},enumerable:!0,configurable:!0}),e.prototype.componentDidMount=function(){var e=t.prototype.componentDidMount.call(this);return this._definedHeader=this.props.header,this.value=this.props.value,new ItemTemplate(this),e},e.prototype.componentDidUpdate=function(){this._definedHeader=this.props.header,this.value=this.props.value},e.prototype._createControl=function(){var e=this,n=t.prototype._createControl.call(this);return n.itemsSource=new wjcCore.ObservableArray,n.selectedIndex=0,n.listBox.formatItem.addHandler(this._fmtItem,this),n.invalidate(),n.itemClicked.addHandler(function(t){e.value=e.control.selectedValue}),n},e.prototype._updateHeader=function(){this.control.header=this._definedHeader||"";var t=this.control.selectedItem;if(null!=this.value&&t&&this.control.displayMemberPath){var e=null;if(t instanceof MenuItem){var n=t.contentRoot;e=n?n.innerHTML:t[this.control.displayMemberPath]}null!=e&&(this.control.header+=": <b>"+e+"</b>")}},e.prototype._fmtItem=function(t,e){(e.data instanceof MenuItem||e.data instanceof MenuSeparator)&&(e.item.textContent="",e.item.appendChild(e.data.contentRoot),e.data.added(e.item))},e}(wijmo_react_base_1.ComponentBase);exports.Menu=Menu;var MenuItem=function(t){function e(e){var n=t.call(this,e,null,{objectProps:["value","cmd","cmdParam"]})||this;return n._parentProp="itemsSource",n._siblingId="menuItemDir",n.value=null,n.cmd=null,n.cmdParam=null,n}return __extends(e,t),e.prototype._createControl=function(){var t=this.parent.control;return 1==t.itemsSource.length&&t.selectedIndex<0&&(t.selectedIndex=0),t.displayMemberPath||(t.displayMemberPath="header"),t.selectedValuePath||(t.selectedValuePath="value"),t.commandPath||(t.commandPath="cmd"),t.commandParameterPath||(t.commandParameterPath="cmdParam"),this},e.prototype._renderImpl=function(){var t=this;return React.createElement("div",{style:{display:"none"}},React.createElement("div",{ref:function(e){return t.contentRoot=e}},this.props.children))},e.prototype.added=function(t){},e}(wijmo_react_base_1.ComponentBase);exports.MenuItem=MenuItem;var MenuSeparator=function(t){function e(e){var n=t.call(this,e,null)||this;return n._parentProp="itemsSource",n._siblingId="menuItemDir",n}return __extends(e,t),e.prototype._createControl=function(){return this},e.prototype._renderImpl=function(){var t=this;return React.createElement("div",{style:{display:"none"}},React.createElement("div",{ref:function(e){return t.contentRoot=e},style:{width:"100%",height:"1px","background-color":"lightgray"}},this.props.children))},e.prototype.added=function(t){wjcCore.addClass(t,"wj-state-disabled")},e}(wijmo_react_base_1.ComponentBase);exports.MenuSeparator=MenuSeparator;var ItemTemplate=function(){function t(t){this._templateItems=[],this.component=t,this.ownerControl=t.control,this.wjItemTemplate=this.component.props.wjItemTemplate,this.listBox=this._getListBox(this.ownerControl),this._attachToComponent(),this._attachToControl()}return t.prototype._attachToComponent=function(){this.component._afterRender.addHandler(this._afterRender,this),this.component._beforeWillUnmount.addHandler(this._beforeWillUnmount,this)},t.prototype._beforeWillUnmount=function(){this.component._afterRender.removeHandler(this._afterRender,this),this.component._beforeWillUnmount.removeHandler(this._beforeWillUnmount,this),this._destroyTemplateItems()},t.prototype._afterRender=function(){var t=this;null==this.component.props.wjItemTemplate&&wjcCore.isFunction(this.wjItemTemplate)?(this.wjItemTemplate=null,this._templateItems.forEach(function(e){ReactDOM.unmountComponentAtNode(e.itemEl),setTimeout(function(){var n=wjcCore.isString(e.item)?e.item:e.item[t.listBox.displayMemberPath];e.itemEl.textContent=n})})):wjcCore.isFunction(this.component.props.wjItemTemplate)&&(this.wjItemTemplate=this.component.props.wjItemTemplate,this._templateItems.forEach(function(e){ReactDOM.render(t._createItemElTpl(e),e.itemEl)}))},t.prototype._attachToControl=function(){this.listBox.formatItem.addHandler(this._fmtItem,this),this.listBox.loadingItems.addHandler(this._destroyTemplateItems,this),this.ownerControl.invalidate()},t.prototype._fmtItem=function(t,e){var n=e.item,o={control:t,item:e.data,itemIndex:e.index};this._templateItems.push(__assign({},o,{itemEl:n})),wjcCore.isFunction(this.wjItemTemplate)&&(n.textContent="",ReactDOM.render(this._createItemElTpl(o),n))},t.prototype._getListBox=function(t){return t instanceof wjcInput.ListBox?t:t.listBox},t.prototype._destroyTemplateItems=function(){this._templateItems.forEach(function(t){ReactDOM.unmountComponentAtNode(t.itemEl)}),this._templateItems=[]},t.prototype._createItemElTpl=function(t){return React.createElement("div",{},this.wjItemTemplate({control:t.control,item:t.item,itemIndex:t.itemIndex}))},t}(),Popup=function(t){function e(e){return t.call(this,e,wjcInput.Popup)||this}return __extends(e,t),e.prototype._renderImpl=function(){return React.createElement("div",null,this.props.children)},e}(wijmo_react_base_1.ComponentBase);exports.Popup=Popup;var CollectionViewNavigator=function(t){function e(e){return t.call(this,e,wjcInput.CollectionViewNavigator,{objectProps:["cv"]})||this}return __extends(e,t),e}(wijmo_react_base_1.ComponentBase);exports.CollectionViewNavigator=CollectionViewNavigator;