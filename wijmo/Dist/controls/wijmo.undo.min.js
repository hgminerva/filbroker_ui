/*!
    *
    * Wijmo Library 5.20192.631
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */

var wijmo,__extends=this&&this.__extends||function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function i(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){!function(t){var n=function(){function t(t){this._target=t}return t.prototype.undo=function(){this.applyState(this._oldState),this._actions&&this._actions.forEach(function(t){t.undo()})},t.prototype.redo=function(){this.applyState(this._newState),this._actions&&this._actions.forEach(function(t){t.redo()})},t.prototype.close=function(){return!0},t.prototype.applyState=function(t){},t.prototype.shouldAddAsChildAction=function(t){return!1},t.prototype.addChildAction=function(t){this._actions||(this._actions=[]),this._actions.push(t)},Object.defineProperty(t.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),t}();t.UndoableAction=n}(t.undo||(t.undo={}))}(wijmo||(wijmo={})),function(t){!function(n){var e=function(){function t(){}return t.addTarget=function(n,e){var i=!1;if(e instanceof HTMLInputElement)t._addInputElement(n,e),i=!0;else if(e instanceof HTMLTextAreaElement)t._addTextAreaElement(n,e),i=!0;else if(e instanceof HTMLSelectElement)t._addSelectElement(n,e),i=!0;else for(var o=0;o<e.children.length;o++){var c=e.children[o];n.addTarget(c)&&(i=!0)}return i},t._addInputElement=function(n,e){if("checkbox"==e.type)e.addEventListener("click",function(t){n._pendingAction=new o(t),n.pushPendingAction()});else if("radio"==e.type){e.addEventListener("mousedown",function(t){n._pendingAction=new c(t)},!0);var r=t._getLabel(e);r&&r.addEventListener("mousedown",function(t){n._pendingAction=new c({target:e})},!0),e.addEventListener("focus",function(t){n._pendingAction instanceof c&&n._pendingAction.target==t.target||(n._pendingAction=new c(t))}),e.addEventListener("click",function(t){n._pendingAction instanceof c&&n.pushPendingAction()})}else e.addEventListener("focus",function(t){n._pendingAction=new i(t)}),e.addEventListener("blur",function(t){n._pendingAction instanceof i&&n.pushPendingAction()})},t._addTextAreaElement=function(t,n){n.addEventListener("focus",function(n){t._pendingAction=new i(n)}),n.addEventListener("blur",function(n){t._pendingAction instanceof i&&t.pushPendingAction()})},t._addSelectElement=function(t,n){n.addEventListener("focus",function(n){t._pendingAction=new i(n)}),n.addEventListener("blur",function(n){t._pendingAction instanceof i&&t.pushPendingAction()})},t._getLabel=function(t){var n=t.parentElement;return n instanceof HTMLLabelElement||(n=document.querySelector('label[for="'+t.id+'"')),n},t}();n._UndoStackHTML=e;var i=function(e){function i(n){var i=e.call(this,n.target)||this;return t.assert(n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement,"HTMLInputElement, HTMLTextAreaElement, or HTMLSelectElement expected."),i._oldState=i._target.value,i}return __extends(i,e),i.prototype.close=function(){return this._newState=this._target.value,this._newState!=this._oldState},i.prototype.applyState=function(e){var i=this._target;i.value=e,i.dispatchEvent(n.UndoStack._evtInput),t.isFunction(i.select)?i.select():i.focus()},i}(n.UndoableAction);n.InputChangeAction=i;var o=function(n){function e(e){var i=n.call(this,e.target)||this;return t.assert("checkbox"==i._target.type,"checkbox expected"),i._newState=i._target.checked,i._oldState=!i._newState,i}return __extends(e,n),e.prototype.applyState=function(t){this._target.checked=t,this._target.focus()},e}(n.UndoableAction);n.CheckboxClickAction=o;var c=function(n){function e(e){var i=n.call(this,e.target)||this,o=i._target.type;return t.assert("radio"==o,"radio button expected"),i._oldState=i._getState(),i}return __extends(e,n),e.prototype.close=function(){return this._newState=this._getState(),this._newState!=this._oldState},e.prototype.applyState=function(t){t&&(t.checked=!0,t.focus())},e.prototype._getState=function(){for(var t='input[name="'+this._target.name+'"]',n=document.querySelectorAll(t),e=0;e<n.length;e++)if(n[e].checked)return n[e];return null},e}(n.UndoableAction);n.RadioClickAction=c}(t.undo||(t.undo={}))}(wijmo||(wijmo={})),function(t){!function(n){var e=function(){function e(n,i){var o=this;this._autoKbd=!0,this._stack=[],this._maxActions=1e3,this._ptr=0,this.addingTarget=new t.Event,this.addedTarget=new t.Event,this.addingAction=new t.Event,this.addedAction=new t.Event,this.undoingAction=new t.Event,this.undoneAction=new t.Event,this.redoingAction=new t.Event,this.redoneAction=new t.Event,this.stateChanged=new t.Event,e._evtInput=document.createEvent("HTMLEvents"),e._evtInput.initEvent("input",!0,!1),i&&t.copy(this,i),this.addTarget(n||"body"),document.addEventListener("keydown",function(t){if(o._autoKbd&&t.ctrlKey&&!t.defaultPrevented)switch(t.keyCode){case 90:o.canUndo&&(o.undo(),t.stopImmediatePropagation());break;case 89:o.canRedo&&(o.redo(),t.stopImmediatePropagation())}},!0)}return e.prototype.addTarget=function(e){var o=!1;if(t.isString(e)){for(var c=document.querySelectorAll(e),r=!1,s=0;s<c.length;s++)this.addTarget(c[s])&&(r=!0);return r}t.assert(e instanceof HTMLElement,"Undo target should be an HTML element");var a=new i(e);if(a.cancel=t.hasClass(e,"wj-no-undo"),this.onAddingTarget(a)){var d=t.Control.getControl(e);d&&(o=n._UndoStackWijmo.addTarget(this,d)),o||t.closest(e,".wj-control")||(o=n._UndoStackHTML.addTarget(this,e)),o&&this.onAddedTarget(a)}return o},Object.defineProperty(e.prototype,"autoKeyboard",{get:function(){return this._autoKbd},set:function(n){this._autoKbd=t.asBoolean(n)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisabled",{get:function(){return this._disabled},set:function(n){this._disabled=t.asBoolean(n)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxActions",{get:function(){return this._maxActions},set:function(n){n!=this._maxActions&&(this._maxActions=t.asNumber(n,!1,!0),this.clear())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"actionCount",{get:function(){return this._stack.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canUndo",{get:function(){return this._stack.length&&this._ptr>0&&!this._disabled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canRedo",{get:function(){return this._stack.length&&this._ptr<this._stack.length&&!this._disabled},enumerable:!0,configurable:!0}),e.prototype.undo=function(){if(this.canUndo){var t=this._stack[this._ptr-1],n=new o(t);this.onUndoingAction(n)&&(this._ptr--,this._undoing=!0,t.undo(),this._undoing=!1,this._pendingAction=null,this.onUndoneAction(n),this.onStateChanged())}},e.prototype.redo=function(){if(this.canRedo){var t=this._stack[this._ptr],n=new o(t);this.onRedoingAction(n)&&(this._ptr++,this._undoing=!0,t.redo(),this._undoing=!1,this._pendingAction=null,this.onRedoneAction(n),this.onStateChanged())}},e.prototype.clear=function(){this._ptr=0,this._stack.splice(0,this._stack.length),this.onStateChanged()},e.prototype.onAddingTarget=function(t){return this.addingTarget.raise(this,t),!t.cancel},e.prototype.onAddedTarget=function(t){this.addedTarget.raise(this,t)},e.prototype.onAddingAction=function(t){return this.addingAction.raise(this,t),!t.cancel},e.prototype.onAddedAction=function(t){this.addedAction.raise(this,t)},e.prototype.onUndoingAction=function(t){return this.undoingAction.raise(this,t),!t.cancel},e.prototype.onUndoneAction=function(t){this.undoneAction.raise(this,t)},e.prototype.onRedoingAction=function(t){return this.redoingAction.raise(this,t),!t.cancel},e.prototype.onRedoneAction=function(t){this.redoneAction.raise(this,t)},e.prototype.onStateChanged=function(){this.stateChanged.raise(this,t.EventArgs.empty)},e.prototype.pushPendingAction=function(){if(!this._disabled&&!this._undoing&&this._pendingAction&&this._pendingAction.close()){if(this._stack.splice(this._ptr,this._stack.length-this._ptr),t.assert(this._stack.length==this._ptr,"should be at the end of the stack"),this._stack.length){var n=this._stack[this._ptr-1];if(n.shouldAddAsChildAction(this._pendingAction))return n.addChildAction(this._pendingAction),this._pendingAction=null,void this.onStateChanged()}var e=new o(this._pendingAction);if(!this.onAddingAction(e))return;this._stack.push(this._pendingAction),this._ptr++,this._pendingAction=null;var i=this._stack.length-this._maxActions;i>0&&(this._stack.splice(0,i),this._ptr-=i,t.assert(this._ptr>=0,"pointer should not be negative")),this.onStateChanged()}},e}();n.UndoStack=e;var i=function(t){function n(n){var e=t.call(this)||this;return e._target=n,e}return __extends(n,t),Object.defineProperty(n.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),n}(t.CancelEventArgs);n.AddTargetEventArgs=i;var o=function(t){function n(n){var e=t.call(this)||this;return e._action=n,e}return __extends(n,t),Object.defineProperty(n.prototype,"action",{get:function(){return this._action},enumerable:!0,configurable:!0}),n}(t.CancelEventArgs);n.UndoActionEventArgs=o}(t.undo||(t.undo={}))}(wijmo||(wijmo={})),function(t){!function(n){n.softInput=function(){return t._getModule("wijmo.input")},n.softGrid=function(){return t._getModule("wijmo.grid")},n.softGauge=function(){return t._getModule("wijmo.gauge")}}(t.undo||(t.undo={}))}(wijmo||(wijmo={})),function(t){!function(n){var e=function(){function e(){}return e.addTarget=function(t,i){return n.softGrid()&&i instanceof n.softGrid().FlexGrid?e._addFlexGrid(t,i):n.softGauge()&&i instanceof n.softGauge().Gauge?e._addGauge(t,i):!!i.hostElement.querySelector("input")&&e._addInputControl(t,i)},e._addInputControl=function(n,e){var o=e.hostElement,c=o.querySelector("input");t.assert(null!=c,"We need a control with an input element"),o.addEventListener("focus",function(){n._pendingAction instanceof i&&n._pendingAction.target==c||(n._pendingAction=new i({target:c}))},!0),o.addEventListener("blur",function(){n._pendingAction instanceof i&&!e.containsFocus()&&n.pushPendingAction()},!0);var r=e.dropDown;return null!=r&&r.addEventListener("blur",function(t){n._pendingAction instanceof i&&!e.containsFocus()&&n.pushPendingAction()},!0),!0},e._addGauge=function(t,e){if(!(n.softGauge()&&e instanceof n.softGauge().Gauge))return!1;var i=e.hostElement;i.addEventListener("focus",function(){t._pendingAction instanceof o&&t._pendingAction.target==e||(t._pendingAction=new o(e))},!0),i.addEventListener("blur",function(){t._pendingAction instanceof o&&!e.containsFocus()&&t.pushPendingAction()},!0)},e._addFlexGrid=function(t,e){return!!(n.softGrid()&&e instanceof n.softGrid().FlexGrid)&&(e.beginningEdit.addHandler(function(n,e){t._pendingAction=new c(n,e)}),e.cellEditEnded.addHandler(function(n,e){t._pendingAction instanceof c&&t.pushPendingAction()}),e.pastingCell.addHandler(function(n,e){t._pendingAction=new c(n,e)}),e.pastedCell.addHandler(function(n,e){t._pendingAction instanceof c&&t.pushPendingAction()}),e.sortingColumn.addHandler(function(n,e){t._pendingAction=new r(n,e)}),e.sortedColumn.addHandler(function(n,e){t._pendingAction instanceof r&&t.pushPendingAction()}),e.resizingColumn.addHandler(function(n,e){t._pendingAction instanceof s&&t._pendingAction.target==n||(t._pendingAction=new s(n,e))}),e.resizedColumn.addHandler(function(){t._pendingAction instanceof s&&t.pushPendingAction()}),e.autoSizingColumn.addHandler(function(n,e){t._pendingAction=new s(n,e)}),e.autoSizedColumn.addHandler(function(){t._pendingAction instanceof s&&t.pushPendingAction()}),e.draggingColumn.addHandler(function(n,e){t._pendingAction=new a(n,e)}),e.draggedColumn.addHandler(function(n,e){t._pendingAction instanceof a&&t.pushPendingAction()}),e.rowAdded.addHandler(function(n,e){e.cancel||(t._pendingAction=new d(n,e),t.pushPendingAction())}),e.deletingRow.addHandler(function(n,e){e.cancel||(t._pendingAction=new u(n,e),t.pushPendingAction())}),!0)},e}();n._UndoStackWijmo=e;var i=function(e){function i(i){var o=e.call(this,i)||this;return o._ctl=t.Control.getControl(t.closest(i.target,".wj-control")),n.softInput()&&(o._ctl instanceof n.softInput().MultiSelect?o._oldState=o._ctl.checkedItems.slice(0):o._ctl instanceof n.softInput().MultiAutoComplete&&(o._oldState=o._ctl.selectedItems.slice(0))),o}return __extends(i,e),i.prototype.close=function(){if(n.softInput()){if(this._ctl instanceof n.softInput().MultiSelect)return this._newState=this._ctl.checkedItems.slice(0),!this._sameContent(this._oldState,this._newState);if(this._ctl instanceof n.softInput().MultiAutoComplete)return this._newState=this._ctl.selectedItems.slice(0),!this._sameContent(this._oldState,this._newState)}return e.prototype.close.call(this)},i.prototype.applyState=function(t){n.softInput()&&this._ctl instanceof n.softInput().MultiSelect?this._ctl.checkedItems=t:n.softInput()&&this._ctl instanceof n.softInput().MultiAutoComplete?this._ctl.selectedItems=t:e.prototype.applyState.call(this,t)},i.prototype._sameContent=function(t,n){if(t.length!=n.length)return!1;for(var e=0;e<t.length;e++)if(t[e]!=n[e])return!1;return!0},i}(n.InputChangeAction),o=function(t){function n(n){var e=t.call(this,n)||this;return e._oldState=n.value,e}return __extends(n,t),n.prototype.close=function(){return this._newState=this._target.value,this._newState!=this._oldState},n.prototype.applyState=function(t){this._target.value=t},n}(n.UndoableAction),c=function(t){function n(n,e){var i=t.call(this,n)||this;return i._row=e.row,i._col=e.col,i._dataItem=n.rows[e.row].dataItem,i._oldState=n.getCellData(e.row,e.col,!1),i}return __extends(n,t),n.prototype.close=function(){var t=this._target.collectionView;return(!t||!t.currentAddItem)&&(this._timeStamp=Date.now(),this._newState=this._target.getCellData(this._row,this._col,!1),this._newState!=this._oldState)},n.prototype.applyState=function(t){var n=this._row,e=this._target,i=e.rows;if(this._dataItem&&i[n].dataItem!=this._dataItem){n=-1;for(var o=0;o<i.length;o++)if(i[o].dataItem==this._dataItem){n=o;break}}n>-1&&(e.setCellData(n,this._col,t,!1),e.select(n,this._col),e.focus())},n.prototype.shouldAddAsChildAction=function(t){return t instanceof n&&t.target==this.target&&t._timeStamp-this._timeStamp<100},n}(n.UndoableAction),r=function(t){function n(n,e){var i=t.call(this,n)||this,o=i._target.collectionView;return o&&(i._oldState=o.sortDescriptions.slice()),i}return __extends(n,t),n.prototype.close=function(){var t=this._target.collectionView;return!!t&&(this._newState=t.sortDescriptions.slice(),!0)},n.prototype.applyState=function(t){var n=this._target.collectionView;n&&n.deferUpdate(function(){var e=n.sortDescriptions;e.clear(),t.forEach(function(t){e.push(t)})})},n}(n.UndoableAction),s=function(t){function n(n,e){var i=t.call(this,n)||this;return i._col=n.columns[e.col],i._oldState=i._col.renderWidth,i}return __extends(n,t),n.prototype.close=function(){return this._newState=this._col.renderWidth,this._newState!=this._oldState},n.prototype.applyState=function(t){this._col.width=t},n}(n.UndoableAction),a=function(t){function n(n,e){var i=t.call(this,n)||this;return i._col=n.columns[e.col],i._oldState=n.columns.indexOf(i._col),i}return __extends(n,t),n.prototype.close=function(){return this._newState=this._col.grid.columns.indexOf(this._col),this._newState!=this._oldState},n.prototype.applyState=function(t){var n=this,e=this._col.grid.columns;e.deferUpdate(function(){e.remove(n._col),e.insert(t,n._col)})},n}(n.UndoableAction),d=function(n){function e(t,e){var i=n.call(this,t)||this,o=i._target.collectionView;if(o&&o.currentAddItem){var c=o.currentAddItem,r=o.sourceCollection.indexOf(c),s=o.currentPosition;i._oldState={item:c,index:r,position:s},i._newState={index:r,position:s}}return i}return __extends(e,n),e.prototype.close=function(){return null!=this._oldState},e.prototype.applyState=function(n){var e=this._target.collectionView;if(e){var i=e.sourceCollection;if(n.item){if(i.splice(n.index,1),e instanceof t.collections.CollectionView&&e.trackChanges){var o=n.item;t.assert(e.itemsAdded.indexOf(o)>-1,"item should be in the itemsAdded list"),e.itemsAdded.remove(o)}}else{o=this._oldState.item;i.splice(n.index,0,o),e instanceof t.collections.CollectionView&&e.trackChanges&&(t.assert(e.itemsAdded.indexOf(o)<0,"item should not be in the itemsAdded list"),e.itemsAdded.push(o))}e.refresh(),e.moveCurrentToPosition(n.position)}},e}(n.UndoableAction),u=function(e){function i(t,n){var i=e.call(this,t)||this,o=i._target.collectionView;if(o){var c=t.rows[n.row].dataItem,r=o.sourceCollection.indexOf(c),s=o.currentPosition;i._oldState={item:c,index:r,position:s},i._newState={index:r,position:s}}return i}return __extends(i,e),i.prototype.close=function(){return null!=this._oldState},i.prototype.applyState=function(e){var i=this._target.collectionView;if(i){var o=i.sourceCollection;if(e.item){if(o.splice(e.index,0,e.item),i instanceof t.collections.CollectionView&&i.trackChanges){var c=e.item;t.assert(i.itemsRemoved.indexOf(c)>-1,"item should be in the itemsRemoved list"),i.itemsRemoved.remove(c)}}else if(o.splice(e.index,1),i instanceof t.collections.CollectionView&&i.trackChanges){c=this._oldState.item;t.assert(i.itemsRemoved.indexOf(c)<0,"item should not be in the itemsRemoved list"),i.itemsRemoved.push(c)}i.refresh(),i.moveCurrentToPosition(e.position);var r=new(n.softGrid().CellRange)(e.position,0,e.position,this.target.columns.length-1);this.target.select(r)}},i}(n.UndoableAction)}(t.undo||(t.undo={}))}(wijmo||(wijmo={})),function(t){t.undo||(t.undo={}),t._registerModule("wijmo.undo",t.undo)}(wijmo||(wijmo={}));